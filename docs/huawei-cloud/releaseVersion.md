## 测试环境发布 --责任人：开发人员
1. 开发人员本地单元测试通过后，上传代码到开发环境，上传后，dev流水线会自动打包后台。前端在本地联调开发后台服务器；
2. 开发人员联调成功后，将dev代码合并到Sit环境（使用华为云代码合并功能），sit将自动流水线发布sit版本；
3. 开发人员完成一项工作项，提交dev合并到sit，让测试人员和产品助理开始测试；
4. 测试人员全部测试完毕后，通知项目组长，由项目组长通知产品验收；

## UAT环境发布 -- 责任人：项目经理 
  
1. 产品经理邮件告知项目经理，产品验收通过，可发UAT环境；
2. 确认master代码是否存在上一版本的tag分支（非常重要），如果没有，必须打tagV*.* 分支，备份上一版本的内容；
3. 合并代码分支： 从sit合并到master，  聚合代码、UI；
4. 如果是新应用，在华为云创建UI的桶，并配置静态网站托管，配置域名，如果没有，新增域名，并解析到桶上；
5. 确认Api网关： 确认API接口是否有修改，如果修改，通过修改增加华为云“API网关”，通知标记在接口变更文档中；
6. 如果新应用，对应的API也是全新，则需要录入到华为云“API网关”；
7. 创建前端和后台的流水线，确认服务器是否开启，（SIT和UAT服务器是按需开启）；
8. UAT：服务器启动一定要按照顺序启动（uat-front-jumper->uat-midd-jumper ->consul->config->gateway->mysql->base->aggre）；


## 正式版发布  -- 责任人：项目经理
1. 提前创建好华为云桶，并配置好域名或等正式发布时，切换域名解析到桶；
2. 提前创建前端UI流水线，可自动发布到桶中；
3. 提前确认华为云API网关，如果是全新应用，新建分组，并配置依据实际情况配置域名（迁移系统必须上线时切换域名），提前录入API（批量从UAT中导出修改后再导入）；
4. 华为云API网关，如果是修改的，必须等正式上线时修改（依据石墨文档修改）；
5. 由产品与业务方确认发布正式版时间；
6. 通知中台发布正式版时间，确认中台是否需要发布；
7. 依据接口变更文档，修改华为云网关接口（修改完后，使用工具对比下正式与uat的接口差异）；
8. 如果是迁移系统的，修改域名解析，到当前的华为云API网关；
9. 运行流水线前端UI ”prod***“，部署到华为云桶中；
10. 通过华为云发布 “部署” ，直接选择 “prod*****” 发布正版版本；

