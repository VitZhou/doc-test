# 服务器安全规范

## 跳板机

1. 任何环境跳板都必须使用秘钥对
1. 不允许使用普通密码.
1. 必须开启防火墙
1. 将可以登陆跳板机的电脑的mac地址加入白名单

### 添加白名单

```shell
iptables -I INPUT -p tcp --dport {允许访问的端口} -m mac --mac-source {mac地址} -j ACCEPT

service iptables save #保存,避免重启失效
```

> service iptables save执行如果报错的话说明没有安装iptables-services. 安装: yum install iptables-services 启动:systemctl enable iptables.service

## 中间件

指任何要暴露公网的中间件(mysql,rabbitmq等)
1. 都必须使用普通用户登陆(不允许使用root账号),不允许使用简单密码.需使用随机的复杂的包含特殊字符的密码.
1. 使用ssl连接.
1. 最好是添加白名单
1. 不允许使用默认端口.